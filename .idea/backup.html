/* var jsonresult = [];
const fileSelector = document.getElementById('file-selector');
fileSelector.addEventListener('change', (event) => {

const fileList = event.target.files;
var input = event.srcElement;
console.log("content is: "  +input);
// the input has an array of files in the `files` property, each one has a name that you can use. We're just using the name here.
var fileName = input.files[0].name;
console.log(fileList);


function handleFiles() {
const fileName = this.files;

console.log("filename : "+fileName)

var result =confirm("Filename is:  " +fileName + "\n Do you want to proceed?");
if(result==true)
{
csvJSON(fileName);
}
else
{
alert("Cancelled")
}

}

function csvJSON(csv){
console.log(csv)
var lines=csv.split("\n");

//var result = [];

var headers=lines[0].split(",");

for(var i=1;i<lines.length;i++){

var obj = {};
var currentline=lines[i].split(",");

for(var j=0;j<headers.length;j++){
obj[headers[j]] = currentline[j];
}

result.push(obj);

}
console.log("final :" + JSON.stringify(result));
//return result; //JavaScript object
return JSON.stringify(result);//JSON
}/*

//console.log(res)
//console.log(typeof 'JSON.stringify(result)')
//var final = JSON.stringify(result);
URL = ' https://t6goeicxsk.execute-api.us-east-2.amazonaws.com/dev/myresource';

var xmlhttp = new XMLHttpRequest();

xmlhttp.open("POST", URL, true);
xmlhttp.send(result);*/
var fr=new FileReader();
var file;
var result1 = [];
document.getElementById('inputfile')
.addEventListener('change', function() {


fr.onload=function(){
file =fr.result;
console.log(fr.result);
console.log(typeof 'fr.result')
for(var i=0; i<fr.result.length;i++)
{
console.log(fr.result[i]);
}

}

fr.readAsText(this.files[0]);
tsvJSON(fr);


})

function tsvJSON(file){

var lines=file.split("\n");



var headers=lines[0].split("\t");

for(var i=1;i<lines.length;i++){

var obj = {};
var currentline=lines[i].split("\t");

for(var j=0;j<headers.length;j++){
obj[headers[j]] = currentline[j];
}

result1.push(obj);

}
console.log(result1);
//return result; //JavaScript object
return JSON.stringify(result1); //JSON

}



/*  URL = ' https://t6goeicxsk.execute-api.us-east-2.amazonaws.com/dev/myresource';

var xmlhttp = new XMLHttpRequest();

xmlhttp.open("POST", URL, true);
xmlhttp.send(result1);*/



let user = {
name: 'John',
surname: 'Smith'
};

let response = await fetch('https://t6goeicxsk.execute-api.us-east-2.amazonaws.com/dev/myresource', {
method: 'POST',
headers: {
'Content-Type': 'application/json;charset=utf-8'
},
body: JSON.stringify(user)
});
console.log("values: ")
let result = await response.json();
alert(result.message);